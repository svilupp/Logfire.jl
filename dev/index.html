<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Home · Logfire.jl</title><meta name="title" content="Home · Logfire.jl"/><meta property="og:title" content="Home · Logfire.jl"/><meta property="twitter:title" content="Home · Logfire.jl"/><meta name="description" content="Documentation for Logfire.jl."/><meta property="og:description" content="Documentation for Logfire.jl."/><meta property="twitter:description" content="Documentation for Logfire.jl."/><meta property="og:url" content="https://svilupp.github.io/Logfire.jl/"/><meta property="twitter:url" content="https://svilupp.github.io/Logfire.jl/"/><link rel="canonical" href="https://svilupp.github.io/Logfire.jl/"/><script data-outdated-warner src="assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="search_index.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href>Logfire.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li class="is-active"><a class="tocitem" href>Home</a><ul class="internal"><li><a class="tocitem" href="#Features"><span>Features</span></a></li><li><a class="tocitem" href="#Quick-Start"><span>Quick Start</span></a></li><li><a class="tocitem" href="#Authentication"><span>Authentication</span></a></li><li><a class="tocitem" href="#What-Gets-Captured"><span>What Gets Captured</span></a></li><li><a class="tocitem" href="#Configuration-Options"><span>Configuration Options</span></a></li><li><a class="tocitem" href="#Manual-Spans"><span>Manual Spans</span></a></li><li><a class="tocitem" href="#Exception-Handling"><span>Exception Handling</span></a></li><li><a class="tocitem" href="#Documentation"><span>Documentation</span></a></li><li><a class="tocitem" href="#API-Reference"><span>API Reference</span></a></li></ul></li><li><a class="tocitem" href="query-api/">Query API</a></li><li><a class="tocitem" href="alternative-backends/">Alternative Backends</a></li><li><a class="tocitem" href="otel-genai/">OTEL GenAI Semantic Conventions</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Home</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Home</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/svilupp/Logfire.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/svilupp/Logfire.jl/blob/main/docs/src/index.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Logfire.jl"><a class="docs-heading-anchor" href="#Logfire.jl">Logfire.jl</a><a id="Logfire.jl-1"></a><a class="docs-heading-anchor-permalink" href="#Logfire.jl" title="Permalink"></a></h1><p>Julia client for <a href="https://pydantic.dev/logfire">Pydantic Logfire</a> - OpenTelemetry-based observability for LLM applications.</p><h2 id="Features"><a class="docs-heading-anchor" href="#Features">Features</a><a id="Features-1"></a><a class="docs-heading-anchor-permalink" href="#Features" title="Permalink"></a></h2><ul><li><strong>OpenTelemetry Integration</strong> - Full OTEL support for tracing LLM calls</li><li><strong>PromptingTools.jl Support</strong> - Automatic instrumentation of <code>aigenerate</code>, <code>aitools</code>, <code>aiextract</code></li><li><strong>GenAI Semantic Conventions</strong> - Compliant with OTEL GenAI specs</li><li><strong>Query API</strong> - Download your telemetry data using SQL</li><li><strong>Alternative Backends</strong> - Send data to Jaeger, Langfuse, or any OTEL-compatible backend</li><li><strong>Exception Tracking</strong> - Automatic exception capture with full stacktraces</li></ul><h2 id="Quick-Start"><a class="docs-heading-anchor" href="#Quick-Start">Quick Start</a><a id="Quick-Start-1"></a><a class="docs-heading-anchor-permalink" href="#Quick-Start" title="Permalink"></a></h2><pre><code class="language-julia hljs">using DotEnv
DotEnv.load!()  # Load .env file (must call explicitly)

using Logfire
using PromptingTools

# Configure Logfire (uses LOGFIRE_TOKEN from environment)
Logfire.configure(service_name=&quot;my-app&quot;)

# Instrument PromptingTools
Logfire.instrument_promptingtools!()

# All LLM calls are now traced
response = aigenerate(&quot;What is 2+2?&quot;)</code></pre><h3 id="Manual-Schema-Wrapping-(No-Auto-Instrumentation)"><a class="docs-heading-anchor" href="#Manual-Schema-Wrapping-(No-Auto-Instrumentation)">Manual Schema Wrapping (No Auto-Instrumentation)</a><a id="Manual-Schema-Wrapping-(No-Auto-Instrumentation)-1"></a><a class="docs-heading-anchor-permalink" href="#Manual-Schema-Wrapping-(No-Auto-Instrumentation)" title="Permalink"></a></h3><p>If you prefer not to use auto-instrumentation, you can explicitly wrap any PromptingTools schema:</p><pre><code class="language-julia hljs">using Logfire, PromptingTools

Logfire.configure(service_name = &quot;my-app&quot;)

# Wrap the schema you want to trace
schema = PromptingTools.OpenAISchema() |&gt; Logfire.LogfireSchema

# Use it directly - no instrument_promptingtools!() needed
aigenerate(schema, &quot;Hello!&quot;; model = &quot;gpt-5-mini&quot;)</code></pre><p>This gives you fine-grained control over which calls are traced.</p><h2 id="Authentication"><a class="docs-heading-anchor" href="#Authentication">Authentication</a><a id="Authentication-1"></a><a class="docs-heading-anchor-permalink" href="#Authentication" title="Permalink"></a></h2><p>Set your Logfire token via one of:</p><ul><li><code>.env</code> file with <code>LOGFIRE_TOKEN=...</code> (call <code>DotEnv.load!()</code> first)</li><li>Environment variable: <code>ENV[&quot;LOGFIRE_TOKEN&quot;] = &quot;...&quot;</code></li><li>Direct argument: <code>Logfire.configure(token=&quot;...&quot;)</code></li></ul><h2 id="What-Gets-Captured"><a class="docs-heading-anchor" href="#What-Gets-Captured">What Gets Captured</a><a id="What-Gets-Captured-1"></a><a class="docs-heading-anchor-permalink" href="#What-Gets-Captured" title="Permalink"></a></h2><ul><li><strong>Request params</strong>: model, temperature, top<em>p, max</em>tokens, stop, penalties</li><li><strong>Usage</strong>: input/output/total tokens, latency, cost</li><li><strong>Provider metadata</strong>: model returned, status, finish<em>reason, response</em>id</li><li><strong>Tool/function calls</strong>: count + full payload</li><li><strong>Conversation</strong>: roles + content for all messages</li><li><strong>Exceptions</strong>: type, message, and full stacktrace</li></ul><h2 id="Configuration-Options"><a class="docs-heading-anchor" href="#Configuration-Options">Configuration Options</a><a id="Configuration-Options-1"></a><a class="docs-heading-anchor-permalink" href="#Configuration-Options" title="Permalink"></a></h2><pre><code class="language-julia hljs">Logfire.configure(
    token = &quot;...&quot;,                    # Logfire write token (or use LOGFIRE_TOKEN env)
    service_name = &quot;my-app&quot;,          # Service name for telemetry
    service_version = &quot;1.0.0&quot;,        # Service version
    environment = &quot;production&quot;,       # Deployment environment
    send_to_logfire = :if_token_present,  # :always, :never, or :if_token_present
    endpoint = &quot;...&quot;,                 # Custom OTLP endpoint
    auto_record_exceptions = true     # Automatic exception capture
)</code></pre><h2 id="Manual-Spans"><a class="docs-heading-anchor" href="#Manual-Spans">Manual Spans</a><a id="Manual-Spans-1"></a><a class="docs-heading-anchor-permalink" href="#Manual-Spans" title="Permalink"></a></h2><pre><code class="language-julia hljs"># Generic span
with_span(&quot;my-operation&quot;) do span
    set_span_attribute!(span, &quot;custom.key&quot;, &quot;value&quot;)
    # do work...
end

# LLM-specific span
with_llm_span(&quot;chat&quot;; system=&quot;openai&quot;, model=&quot;gpt-4o&quot;) do span
    # do LLM work...
    record_token_usage!(span, 100, 50)
end</code></pre><h2 id="Exception-Handling"><a class="docs-heading-anchor" href="#Exception-Handling">Exception Handling</a><a id="Exception-Handling-1"></a><a class="docs-heading-anchor-permalink" href="#Exception-Handling" title="Permalink"></a></h2><pre><code class="language-julia hljs"># Automatic (default)
with_span(&quot;risky-operation&quot;) do span
    error(&quot;Oops!&quot;)  # Automatically captured
end

# Manual
try
    risky_operation()
catch e
    record_exception!(span, e; backtrace=catch_backtrace())
    rethrow()
end</code></pre><h2 id="Documentation"><a class="docs-heading-anchor" href="#Documentation">Documentation</a><a id="Documentation-1"></a><a class="docs-heading-anchor-permalink" href="#Documentation" title="Permalink"></a></h2><ul><li><strong><a href="query-api/#Query-API">Query API</a></strong> - Download telemetry data using SQL queries</li><li><strong><a href="alternative-backends/#Alternative-Backends">Alternative Backends</a></strong> - Use Jaeger, Langfuse, or other OTEL backends</li><li><strong><a href="otel-genai/#OpenTelemetry-GenAI-Semantic-Conventions">OpenTelemetry GenAI Semantic Conventions</a></strong> - Message formats and span attributes</li></ul><h2 id="API-Reference"><a class="docs-heading-anchor" href="#API-Reference">API Reference</a><a id="API-Reference-1"></a><a class="docs-heading-anchor-permalink" href="#API-Reference" title="Permalink"></a></h2><ul><li><a href="#Logfire.ERROR_TYPE_OTHER"><code>Logfire.ERROR_TYPE_OTHER</code></a></li><li><a href="#Logfire.AbstractMessagePart"><code>Logfire.AbstractMessagePart</code></a></li><li><a href="#Logfire.BlobPart"><code>Logfire.BlobPart</code></a></li><li><a href="#Logfire.FilePart"><code>Logfire.FilePart</code></a></li><li><a href="#Logfire.FinishReason"><code>Logfire.FinishReason</code></a></li><li><a href="#Logfire.GenericPart"><code>Logfire.GenericPart</code></a></li><li><a href="#Logfire.InputMessage"><code>Logfire.InputMessage</code></a></li><li><a href="#Logfire.LogfireConfig"><code>Logfire.LogfireConfig</code></a></li><li><a href="#Logfire.LogfireQueryClient"><code>Logfire.LogfireQueryClient</code></a></li><li><a href="#Logfire.LogfireQueryClient-Tuple{}"><code>Logfire.LogfireQueryClient</code></a></li><li><a href="#Logfire.LogfireSchema"><code>Logfire.LogfireSchema</code></a></li><li><a href="#Logfire.Modality"><code>Logfire.Modality</code></a></li><li><a href="#Logfire.OperationName"><code>Logfire.OperationName</code></a></li><li><a href="#Logfire.OutputMessage"><code>Logfire.OutputMessage</code></a></li><li><a href="#Logfire.OutputType"><code>Logfire.OutputType</code></a></li><li><a href="#Logfire.ReasoningPart"><code>Logfire.ReasoningPart</code></a></li><li><a href="#Logfire.Role"><code>Logfire.Role</code></a></li><li><a href="#Logfire.TextPart"><code>Logfire.TextPart</code></a></li><li><a href="#Logfire.ToolCallRequestPart"><code>Logfire.ToolCallRequestPart</code></a></li><li><a href="#Logfire.ToolCallResponsePart"><code>Logfire.ToolCallResponsePart</code></a></li><li><a href="#Logfire.ToolDefinition"><code>Logfire.ToolDefinition</code></a></li><li><a href="#Logfire.UriPart"><code>Logfire.UriPart</code></a></li><li><a href="#Logfire._extract_tool_call_data-Tuple{Any}"><code>Logfire._extract_tool_call_data</code></a></li><li><a href="#Logfire._message_role-Tuple{Any}"><code>Logfire._message_role</code></a></li><li><a href="#Logfire._parse_query_response-Tuple{Any, Bool}"><code>Logfire._parse_query_response</code></a></li><li><a href="#Logfire._record_detailed_usage!-Tuple{Any, Any}"><code>Logfire._record_detailed_usage!</code></a></li><li><a href="#Logfire._record_messages_as_attributes!-Tuple{Any, Any}"><code>Logfire._record_messages_as_attributes!</code></a></li><li><a href="#Logfire._record_tool_calls!-Tuple{Any, Any}"><code>Logfire._record_tool_calls!</code></a></li><li><a href="#Logfire._setup_providers!-Tuple{Logfire.LogfireConfig}"><code>Logfire._setup_providers!</code></a></li><li><a href="#Logfire.add_prompt_attribute!-Tuple{Any, Vector}"><code>Logfire.add_prompt_attribute!</code></a></li><li><a href="#Logfire.add_response_attribute!-Tuple{Any, AbstractString}"><code>Logfire.add_response_attribute!</code></a></li><li><a href="#Logfire.configure-Tuple{}"><code>Logfire.configure</code></a></li><li><a href="#Logfire.create_logfire_exporter-Tuple{Logfire.LogfireConfig}"><code>Logfire.create_logfire_exporter</code></a></li><li><a href="#Logfire.create_resource-Tuple{Logfire.LogfireConfig}"><code>Logfire.create_resource</code></a></li><li><a href="#Logfire.flush!-Tuple{}"><code>Logfire.flush!</code></a></li><li><a href="#Logfire.get_config-Tuple{}"><code>Logfire.get_config</code></a></li><li><a href="#Logfire.instrument_promptingtools!-Tuple{}"><code>Logfire.instrument_promptingtools!</code></a></li><li><a href="#Logfire.instrument_promptingtools_model!-Tuple{Any}"><code>Logfire.instrument_promptingtools_model!</code></a></li><li><a href="#Logfire.is_configured-Tuple{}"><code>Logfire.is_configured</code></a></li><li><a href="#Logfire.messages_to_json-Tuple{Vector{&lt;:InputMessage}}"><code>Logfire.messages_to_json</code></a></li><li><a href="#Logfire.messages_to_json-Tuple{Vector{&lt;:OutputMessage}}"><code>Logfire.messages_to_json</code></a></li><li><a href="#Logfire.part_to_dict-Tuple{TextPart}"><code>Logfire.part_to_dict</code></a></li><li><a href="#Logfire.pt_conversation_to_otel-Tuple{AbstractVector}"><code>Logfire.pt_conversation_to_otel</code></a></li><li><a href="#Logfire.pt_message_to_input-Tuple{Any}"><code>Logfire.pt_message_to_input</code></a></li><li><a href="#Logfire.pt_message_to_output-Tuple{Any}"><code>Logfire.pt_message_to_output</code></a></li><li><a href="#Logfire.query_csv-Tuple{LogfireQueryClient, String}"><code>Logfire.query_csv</code></a></li><li><a href="#Logfire.query_json-Tuple{LogfireQueryClient, String}"><code>Logfire.query_json</code></a></li><li><a href="#Logfire.record_exception!-Tuple{Any, Any}"><code>Logfire.record_exception!</code></a></li><li><a href="#Logfire.record_token_usage!-Tuple{Any, Int64, Int64}"><code>Logfire.record_token_usage!</code></a></li><li><a href="#Logfire.set_genai_messages!-Tuple{Any, AbstractVector}"><code>Logfire.set_genai_messages!</code></a></li><li><a href="#Logfire.set_span_attribute!-Tuple{Any, String, Any}"><code>Logfire.set_span_attribute!</code></a></li><li><a href="#Logfire.set_span_status_error!-Tuple{Any, String}"><code>Logfire.set_span_status_error!</code></a></li><li><a href="#Logfire.set_tool_definitions!-Tuple{Any, Vector}"><code>Logfire.set_tool_definitions!</code></a></li><li><a href="#Logfire.set_tool_definitions!-Tuple{Any, AbstractDict}"><code>Logfire.set_tool_definitions!</code></a></li><li><a href="#Logfire.should_send_to_logfire"><code>Logfire.should_send_to_logfire</code></a></li><li><a href="#Logfire.shutdown!-Tuple{}"><code>Logfire.shutdown!</code></a></li><li><a href="#Logfire.system_instructions_to_json-Tuple{Vector{&lt;:AbstractMessagePart}}"><code>Logfire.system_instructions_to_json</code></a></li><li><a href="#Logfire.tool_definitions_from_functions-Tuple{Vector}"><code>Logfire.tool_definitions_from_functions</code></a></li><li><a href="#Logfire.tool_definitions_from_pt-Tuple{AbstractDict}"><code>Logfire.tool_definitions_from_pt</code></a></li><li><a href="#Logfire.tool_definitions_to_json-Tuple{Vector{ToolDefinition}}"><code>Logfire.tool_definitions_to_json</code></a></li><li><a href="#Logfire.tracer"><code>Logfire.tracer</code></a></li><li><a href="#Logfire.uninstrument_promptingtools!-Tuple{}"><code>Logfire.uninstrument_promptingtools!</code></a></li><li><a href="#Logfire.with_llm_span-Tuple{Any, String}"><code>Logfire.with_llm_span</code></a></li><li><a href="#Logfire.with_span-Tuple{Any, String}"><code>Logfire.with_span</code></a></li><li><a href="#Logfire.wrap-Tuple{PromptingTools.AbstractPromptSchema}"><code>Logfire.wrap</code></a></li></ul><article><details class="docstring" open="true"><summary id="Logfire.ERROR_TYPE_OTHER"><a class="docstring-binding" href="#Logfire.ERROR_TYPE_OTHER"><code>Logfire.ERROR_TYPE_OTHER</code></a> — <span class="docstring-category">Constant</span></summary><section><div><p>Error type for GenAI operations.</p><p>Well-known value from OTEL semantic conventions:</p><ul><li><code>_OTHER</code>: Fallback error value when no custom value is defined</li></ul><p>Custom values may be used for specific error types.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/svilupp/Logfire.jl/blob/96ccea1a394ab8c333b8110858ea93657f1fc488/src/types.jl#L154-L161">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Logfire.AbstractMessagePart"><a class="docstring-binding" href="#Logfire.AbstractMessagePart"><code>Logfire.AbstractMessagePart</code></a> — <span class="docstring-category">Type</span></summary><section><div><p>Abstract base type for all message parts.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/svilupp/Logfire.jl/blob/96ccea1a394ab8c333b8110858ea93657f1fc488/src/types.jl#L168-L170">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Logfire.BlobPart"><a class="docstring-binding" href="#Logfire.BlobPart"><code>Logfire.BlobPart</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">BlobPart</code></pre><p>Represents blob binary data sent inline to the model.</p><p><strong>Fields</strong></p><ul><li><code>modality::Modality</code>: The general modality (image, video, audio)</li><li><code>content::String</code>: Base64-encoded binary content</li><li><code>mime_type::Union{String,Nothing}</code>: IANA MIME type</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/svilupp/Logfire.jl/blob/96ccea1a394ab8c333b8110858ea93657f1fc488/src/types.jl#L227-L236">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Logfire.FilePart"><a class="docstring-binding" href="#Logfire.FilePart"><code>Logfire.FilePart</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">FilePart</code></pre><p>Represents an external referenced file sent to the model by file ID.</p><p><strong>Fields</strong></p><ul><li><code>modality::Modality</code>: The general modality (image, video, audio)</li><li><code>file_id::String</code>: Identifier referencing a pre-uploaded file</li><li><code>mime_type::Union{String,Nothing}</code>: IANA MIME type</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/svilupp/Logfire.jl/blob/96ccea1a394ab8c333b8110858ea93657f1fc488/src/types.jl#L267-L276">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Logfire.FinishReason"><a class="docstring-binding" href="#Logfire.FinishReason"><code>Logfire.FinishReason</code></a> — <span class="docstring-category">Type</span></summary><section><div><p>Reason for finishing the generation.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/svilupp/Logfire.jl/blob/96ccea1a394ab8c333b8110858ea93657f1fc488/src/types.jl#L34-L36">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Logfire.GenericPart"><a class="docstring-binding" href="#Logfire.GenericPart"><code>Logfire.GenericPart</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">GenericPart</code></pre><p>Represents an arbitrary message part with custom type. Allows extensibility with custom message part types.</p><p><strong>Fields</strong></p><ul><li><code>type::String</code>: The type identifier</li><li><code>properties::Dict{String,Any}</code>: Additional properties</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/svilupp/Logfire.jl/blob/96ccea1a394ab8c333b8110858ea93657f1fc488/src/types.jl#L299-L308">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Logfire.InputMessage"><a class="docstring-binding" href="#Logfire.InputMessage"><code>Logfire.InputMessage</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">InputMessage</code></pre><p>Represents an input message sent to the model.</p><p><strong>Fields</strong></p><ul><li><code>role::Role</code>: Role of the entity that created the message</li><li><code>parts::Vector{AbstractMessagePart}</code>: List of message parts</li><li><code>name::Union{String,Nothing}</code>: Optional participant name</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/svilupp/Logfire.jl/blob/96ccea1a394ab8c333b8110858ea93657f1fc488/src/types.jl#L320-L329">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Logfire.LogfireConfig"><a class="docstring-binding" href="#Logfire.LogfireConfig"><code>Logfire.LogfireConfig</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">LogfireConfig</code></pre><p>Configuration options for Logfire SDK.</p><p><strong>Fields</strong></p><ul><li><code>token::Union{String, Nothing}</code>: Logfire write token</li><li><code>service_name::String</code>: Service name for telemetry</li><li><code>service_version::Union{String, Nothing}</code>: Service version</li><li><code>environment::String</code>: Deployment environment (development, staging, production)</li><li><code>send_to_logfire::Symbol</code>: Export control (:if<em>token</em>present, :always, :never)</li><li><code>endpoint::String</code>: OTLP endpoint URL</li><li><code>console::Bool</code>: Print spans to console</li><li><code>scrubbing::Bool</code>: Enable data scrubbing</li><li><code>auto_record_exceptions::Bool</code>: Automatically record exceptions in spans (default: true)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/svilupp/Logfire.jl/blob/96ccea1a394ab8c333b8110858ea93657f1fc488/src/config.jl#L3-L18">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Logfire.LogfireQueryClient"><a class="docstring-binding" href="#Logfire.LogfireQueryClient"><code>Logfire.LogfireQueryClient</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">LogfireQueryClient</code></pre><p>Client for querying Logfire data via the Query API.</p><p><strong>Fields</strong></p><ul><li><code>read_token::String</code>: Logfire read token for authentication</li><li><code>endpoint::String</code>: Query API endpoint URL</li></ul><p><strong>Example</strong></p><pre><code class="language-julia hljs">using Logfire

# Create client (uses LOGFIRE_READ_TOKEN from environment)
client = LogfireQueryClient()

# Or with explicit token
client = LogfireQueryClient(read_token=&quot;pylf_v1_us_...&quot;)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/svilupp/Logfire.jl/blob/96ccea1a394ab8c333b8110858ea93657f1fc488/src/query.jl#L3-L22">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Logfire.LogfireQueryClient-Tuple{}"><a class="docstring-binding" href="#Logfire.LogfireQueryClient-Tuple{}"><code>Logfire.LogfireQueryClient</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">LogfireQueryClient(; read_token=nothing, endpoint=QUERY_ENDPOINT_US)</code></pre><p>Create a query client for downloading data from Logfire.</p><p><strong>Keywords</strong></p><ul><li><code>read_token::String</code>: Read token (or uses <code>LOGFIRE_READ_TOKEN</code> env var)</li><li><code>endpoint::String</code>: Query API endpoint (default: US region)</li></ul><p><strong>Endpoints</strong></p><ul><li>US: <code>https://logfire-us.pydantic.dev/v1/query</code></li><li>EU: <code>https://logfire-eu.pydantic.dev/v1/query</code></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/svilupp/Logfire.jl/blob/96ccea1a394ab8c333b8110858ea93657f1fc488/src/query.jl#L28-L40">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Logfire.LogfireSchema"><a class="docstring-binding" href="#Logfire.LogfireSchema"><code>Logfire.LogfireSchema</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">LogfireSchema(inner::PT.AbstractPromptSchema)</code></pre><p>Tracer schema that wraps any PromptingTools prompt schema and emits OpenTelemetry GenAI spans. Works with all <code>ai*</code> APIs in PromptingTools.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/svilupp/Logfire.jl/blob/96ccea1a394ab8c333b8110858ea93657f1fc488/src/logfire_schema.jl#L7-L12">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Logfire.Modality"><a class="docstring-binding" href="#Logfire.Modality"><code>Logfire.Modality</code></a> — <span class="docstring-category">Type</span></summary><section><div><p>Modality of media content.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/svilupp/Logfire.jl/blob/96ccea1a394ab8c333b8110858ea93657f1fc488/src/types.jl#L61-L63">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Logfire.OperationName"><a class="docstring-binding" href="#Logfire.OperationName"><code>Logfire.OperationName</code></a> — <span class="docstring-category">Type</span></summary><section><div><p>GenAI operation type.</p><p>Well-known values from OTEL semantic conventions:</p><ul><li><code>chat</code>: Chat completion (e.g., OpenAI Chat API)</li><li><code>create_agent</code>: Create GenAI agent</li><li><code>embeddings</code>: Embeddings operation</li><li><code>execute_tool</code>: Execute a tool</li><li><code>generate_content</code>: Multimodal content generation (e.g., Gemini)</li><li><code>invoke_agent</code>: Invoke GenAI agent</li><li><code>text_completion</code>: Text completions (legacy)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/svilupp/Logfire.jl/blob/96ccea1a394ab8c333b8110858ea93657f1fc488/src/types.jl#L83-L94">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Logfire.OutputMessage"><a class="docstring-binding" href="#Logfire.OutputMessage"><code>Logfire.OutputMessage</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">OutputMessage</code></pre><p>Represents an output message generated by the model.</p><p><strong>Fields</strong></p><ul><li><code>role::Role</code>: Role of the entity that created the message</li><li><code>parts::Vector{AbstractMessagePart}</code>: List of message parts</li><li><code>finish_reason::FinishReason</code>: Reason for finishing generation</li><li><code>name::Union{String,Nothing}</code>: Optional participant name</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/svilupp/Logfire.jl/blob/96ccea1a394ab8c333b8110858ea93657f1fc488/src/types.jl#L352-L362">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Logfire.OutputType"><a class="docstring-binding" href="#Logfire.OutputType"><code>Logfire.OutputType</code></a> — <span class="docstring-category">Type</span></summary><section><div><p>GenAI output type.</p><p>Well-known values from OTEL semantic conventions:</p><ul><li><code>text</code>: Plain text</li><li><code>json</code>: JSON object with known or unknown schema</li><li><code>image</code>: Image</li><li><code>speech</code>: Speech</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/svilupp/Logfire.jl/blob/96ccea1a394ab8c333b8110858ea93657f1fc488/src/types.jl#L123-L131">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Logfire.ReasoningPart"><a class="docstring-binding" href="#Logfire.ReasoningPart"><code>Logfire.ReasoningPart</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">ReasoningPart</code></pre><p>Represents reasoning/thinking content received from the model.</p><p><strong>Fields</strong></p><ul><li><code>content::String</code>: Reasoning/thinking content</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/svilupp/Logfire.jl/blob/96ccea1a394ab8c333b8110858ea93657f1fc488/src/types.jl#L287-L294">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Logfire.Role"><a class="docstring-binding" href="#Logfire.Role"><code>Logfire.Role</code></a> — <span class="docstring-category">Type</span></summary><section><div><p>Role of the entity that created the message.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/svilupp/Logfire.jl/blob/96ccea1a394ab8c333b8110858ea93657f1fc488/src/types.jl#L12-L14">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Logfire.TextPart"><a class="docstring-binding" href="#Logfire.TextPart"><code>Logfire.TextPart</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">TextPart</code></pre><p>Represents text content sent to or received from the model.</p><p><strong>Fields</strong></p><ul><li><code>content::String</code>: Text content</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/svilupp/Logfire.jl/blob/96ccea1a394ab8c333b8110858ea93657f1fc488/src/types.jl#L177-L184">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Logfire.ToolCallRequestPart"><a class="docstring-binding" href="#Logfire.ToolCallRequestPart"><code>Logfire.ToolCallRequestPart</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">ToolCallRequestPart</code></pre><p>Represents a tool call requested by the model.</p><p><strong>Fields</strong></p><ul><li><code>name::String</code>: Name of the tool</li><li><code>id::Union{String,Nothing}</code>: Unique identifier for the tool call</li><li><code>arguments::Any</code>: Arguments for the tool call (Dict, String, or nothing)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/svilupp/Logfire.jl/blob/96ccea1a394ab8c333b8110858ea93657f1fc488/src/types.jl#L189-L198">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Logfire.ToolCallResponsePart"><a class="docstring-binding" href="#Logfire.ToolCallResponsePart"><code>Logfire.ToolCallResponsePart</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">ToolCallResponsePart</code></pre><p>Represents a tool call result sent to the model.</p><p><strong>Fields</strong></p><ul><li><code>response::Any</code>: Tool call response</li><li><code>id::Union{String,Nothing}</code>: Unique tool call identifier</li><li><code>name::Union{String,Nothing}</code>: Name of the tool that was called</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/svilupp/Logfire.jl/blob/96ccea1a394ab8c333b8110858ea93657f1fc488/src/types.jl#L209-L218">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Logfire.ToolDefinition"><a class="docstring-binding" href="#Logfire.ToolDefinition"><code>Logfire.ToolDefinition</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">ToolDefinition</code></pre><p>Represents a tool definition in OpenAI function format.</p><p><strong>Fields</strong></p><ul><li><code>name::String</code>: Tool name</li><li><code>description::String</code>: Tool description</li><li><code>parameters::Dict{String,Any}</code>: JSON Schema for parameters</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/svilupp/Logfire.jl/blob/96ccea1a394ab8c333b8110858ea93657f1fc488/src/types.jl#L489-L498">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Logfire.UriPart"><a class="docstring-binding" href="#Logfire.UriPart"><code>Logfire.UriPart</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">UriPart</code></pre><p>Represents an external referenced file sent to the model by URI.</p><p><strong>Fields</strong></p><ul><li><code>modality::Modality</code>: The general modality (image, video, audio)</li><li><code>uri::String</code>: URI referencing the data</li><li><code>mime_type::Union{String,Nothing}</code>: IANA MIME type</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/svilupp/Logfire.jl/blob/96ccea1a394ab8c333b8110858ea93657f1fc488/src/types.jl#L247-L256">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Logfire._extract_tool_call_data-Tuple{Any}"><a class="docstring-binding" href="#Logfire._extract_tool_call_data-Tuple{Any}"><code>Logfire._extract_tool_call_data</code></a> — <span class="docstring-category">Method</span></summary><section><div><p>Extract structured tool call data from a vector of tool calls. Handles both ToolMessage objects and Dict representations.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/svilupp/Logfire.jl/blob/96ccea1a394ab8c333b8110858ea93657f1fc488/src/logfire_schema.jl#L299-L302">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Logfire._message_role-Tuple{Any}"><a class="docstring-binding" href="#Logfire._message_role-Tuple{Any}"><code>Logfire._message_role</code></a> — <span class="docstring-category">Method</span></summary><section><div><p>Get the role of a message, using PT&#39;s role4render when available.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/svilupp/Logfire.jl/blob/96ccea1a394ab8c333b8110858ea93657f1fc488/src/logfire_schema.jl#L60-L62">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Logfire._parse_query_response-Tuple{Any, Bool}"><a class="docstring-binding" href="#Logfire._parse_query_response-Tuple{Any, Bool}"><code>Logfire._parse_query_response</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">_parse_query_response(raw, row_oriented) -&gt; Vector{Dict} or Dict</code></pre><p>Parse the Logfire API response format into user-friendly data structures.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/svilupp/Logfire.jl/blob/96ccea1a394ab8c333b8110858ea93657f1fc488/src/query.jl#L133-L137">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Logfire._record_detailed_usage!-Tuple{Any, Any}"><a class="docstring-binding" href="#Logfire._record_detailed_usage!-Tuple{Any, Any}"><code>Logfire._record_detailed_usage!</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">_record_detailed_usage!(span, ai_msg)</code></pre><p>Record detailed usage statistics from extras to OTEL GenAI attributes.</p><p>Reads unified keys first, falls back to raw provider dicts for backwards compatibility with older PromptingTools versions.</p><p><strong>Unified keys supported:</strong></p><ul><li><code>:cache_read_tokens</code>, <code>:cache_write_tokens</code> - cache token usage</li><li><code>:cache_write_1h_tokens</code>, <code>:cache_write_5m_tokens</code> - Anthropic ephemeral cache</li><li><code>:reasoning_tokens</code> - chain-of-thought tokens</li><li><code>:audio_input_tokens</code>, <code>:audio_output_tokens</code> - audio tokens</li><li><code>:accepted_prediction_tokens</code>, <code>:rejected_prediction_tokens</code> - prediction tokens</li><li><code>:service_tier</code> - provider service tier</li><li><code>:web_search_requests</code> - Anthropic server tool usage</li></ul><p><strong>Fallback dicts:</strong></p><ul><li><code>:prompt_tokens_details</code> - OpenAI prompt token details</li><li><code>:completion_tokens_details</code> - OpenAI completion token details</li><li><code>:cache_read_input_tokens</code>, <code>:cache_creation_input_tokens</code> - Anthropic legacy keys</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/svilupp/Logfire.jl/blob/96ccea1a394ab8c333b8110858ea93657f1fc488/src/logfire_schema.jl#L159-L180">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Logfire._record_messages_as_attributes!-Tuple{Any, Any}"><a class="docstring-binding" href="#Logfire._record_messages_as_attributes!-Tuple{Any, Any}"><code>Logfire._record_messages_as_attributes!</code></a> — <span class="docstring-category">Method</span></summary><section><div><p>Record messages as span attributes using OTEL GenAI semantic conventions.</p><p>Sets the following attributes:</p><ul><li>gen_ai.input.messages: Chat history (all messages except final response)</li><li>gen<em>ai.output.messages: Model response with finish</em>reason</li><li>gen<em>ai.system</em>instructions: System prompt (extracted from conversation)</li></ul><p>Uses typed constructs from types.jl for proper JSON serialization.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/svilupp/Logfire.jl/blob/96ccea1a394ab8c333b8110858ea93657f1fc488/src/logfire_schema.jl#L100-L109">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Logfire._record_tool_calls!-Tuple{Any, Any}"><a class="docstring-binding" href="#Logfire._record_tool_calls!-Tuple{Any, Any}"><code>Logfire._record_tool_calls!</code></a> — <span class="docstring-category">Method</span></summary><section><div><p>Record tool calls from AIToolRequest or AIMessage.</p><p>Handles both:</p><ul><li><code>AIToolRequest.tool_calls</code> (direct field with Vector{ToolMessage})</li><li><code>extras[:tool_calls]</code> (fallback for AIMessage with tool calls in extras)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/svilupp/Logfire.jl/blob/96ccea1a394ab8c333b8110858ea93657f1fc488/src/logfire_schema.jl#L259-L265">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Logfire._setup_providers!-Tuple{Logfire.LogfireConfig}"><a class="docstring-binding" href="#Logfire._setup_providers!-Tuple{Logfire.LogfireConfig}"><code>Logfire._setup_providers!</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">_setup_providers!(cfg::LogfireConfig)</code></pre><p>Initialize OpenTelemetry tracer and meter providers based on configuration.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/svilupp/Logfire.jl/blob/96ccea1a394ab8c333b8110858ea93657f1fc488/src/providers.jl#L3-L7">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Logfire.add_prompt_attribute!-Tuple{Any, Vector}"><a class="docstring-binding" href="#Logfire.add_prompt_attribute!-Tuple{Any, Vector}"><code>Logfire.add_prompt_attribute!</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">add_prompt_attribute!(span, messages::Vector)</code></pre><p>Add prompt messages as span attributes.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/svilupp/Logfire.jl/blob/96ccea1a394ab8c333b8110858ea93657f1fc488/src/spans.jl#L251-L255">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Logfire.add_response_attribute!-Tuple{Any, AbstractString}"><a class="docstring-binding" href="#Logfire.add_response_attribute!-Tuple{Any, AbstractString}"><code>Logfire.add_response_attribute!</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">add_response_attribute!(span, content::AbstractString)</code></pre><p>Add response content as a span attribute.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/svilupp/Logfire.jl/blob/96ccea1a394ab8c333b8110858ea93657f1fc488/src/spans.jl#L268-L272">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Logfire.configure-Tuple{}"><a class="docstring-binding" href="#Logfire.configure-Tuple{}"><code>Logfire.configure</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">configure(; kwargs...)</code></pre><p>Initialize Logfire SDK with the specified options.</p><p><strong>Keywords</strong></p><ul><li><code>token::String</code>: Logfire write token (or use LOGFIRE_TOKEN env var)</li><li><code>service_name::String</code>: Name of the service (default: &quot;julia-app&quot;)</li><li><code>service_version::String</code>: Version of the service</li><li><code>environment::String</code>: Deployment environment (default: &quot;development&quot;)</li><li><code>send_to_logfire::Symbol</code>: Export control (:if<em>token</em>present, :always, :never)</li><li><code>endpoint::String</code>: Custom OTLP endpoint (default: Logfire US)</li><li><code>scrubbing::Bool</code>: Enable data scrubbing (default: false)</li><li><code>console::Bool</code>: Print spans to console (default: false)</li><li><code>auto_record_exceptions::Bool</code>: Automatically record exceptions in spans (default: true)</li></ul><p><strong>Example</strong></p><pre><code class="language-julia hljs">using Logfire

Logfire.configure(
    service_name = &quot;my-llm-app&quot;,
    environment = &quot;production&quot;,
    auto_record_exceptions = true  # Automatically capture exceptions in spans
)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/svilupp/Logfire.jl/blob/96ccea1a394ab8c333b8110858ea93657f1fc488/src/config.jl#L74-L100">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Logfire.create_logfire_exporter-Tuple{Logfire.LogfireConfig}"><a class="docstring-binding" href="#Logfire.create_logfire_exporter-Tuple{Logfire.LogfireConfig}"><code>Logfire.create_logfire_exporter</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">create_logfire_exporter(cfg::LogfireConfig) -&gt; OtlpHttpTracesExporter</code></pre><p>Create an OTLP HTTP exporter configured for Logfire backend.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/svilupp/Logfire.jl/blob/96ccea1a394ab8c333b8110858ea93657f1fc488/src/exporter.jl#L3-L7">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Logfire.create_resource-Tuple{Logfire.LogfireConfig}"><a class="docstring-binding" href="#Logfire.create_resource-Tuple{Logfire.LogfireConfig}"><code>Logfire.create_resource</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">create_resource(cfg::LogfireConfig) -&gt; Resource</code></pre><p>Create an OpenTelemetry Resource with Logfire-compatible attributes.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/svilupp/Logfire.jl/blob/96ccea1a394ab8c333b8110858ea93657f1fc488/src/resource.jl#L3-L7">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Logfire.flush!-Tuple{}"><a class="docstring-binding" href="#Logfire.flush!-Tuple{}"><code>Logfire.flush!</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">flush!()</code></pre><p>Force flush any pending telemetry data. Note: With SimpleSpanProcessor, spans are exported immediately when they end. This function is mainly useful for BatchSpanProcessor, but OpenTelemetrySDK doesn&#39;t expose a direct flush API. Spans will be exported automatically.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/svilupp/Logfire.jl/blob/96ccea1a394ab8c333b8110858ea93657f1fc488/src/config.jl#L227-L234">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Logfire.get_config-Tuple{}"><a class="docstring-binding" href="#Logfire.get_config-Tuple{}"><code>Logfire.get_config</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">get_config() -&gt; LogfireConfig</code></pre><p>Get the current global configuration.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/svilupp/Logfire.jl/blob/96ccea1a394ab8c333b8110858ea93657f1fc488/src/config.jl#L51-L55">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Logfire.instrument_promptingtools!-Tuple{}"><a class="docstring-binding" href="#Logfire.instrument_promptingtools!-Tuple{}"><code>Logfire.instrument_promptingtools!</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">instrument_promptingtools!(; models=nothing, base_schema=PromptingTools.OpenAISchema())</code></pre><p>Register Logfire&#39;s <code>LogfireSchema</code> tracer for the given model names. If <code>models</code> is <code>nothing</code>, all models currently registered in PromptingTools are instrumented. Throws an error if no models are provided and none can be discovered.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/svilupp/Logfire.jl/blob/96ccea1a394ab8c333b8110858ea93657f1fc488/src/instrumentation/promptingtools.jl#L30-L36">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Logfire.instrument_promptingtools_model!-Tuple{Any}"><a class="docstring-binding" href="#Logfire.instrument_promptingtools_model!-Tuple{Any}"><code>Logfire.instrument_promptingtools_model!</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">instrument_promptingtools_model!(name; base_schema=PromptingTools.OpenAISchema())</code></pre><p>Register Logfire tracing for a single model name or alias. Uses the already registered PromptingTools schema when available; otherwise falls back to <code>base_schema</code>. Safe to call multiple times.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/svilupp/Logfire.jl/blob/96ccea1a394ab8c333b8110858ea93657f1fc488/src/instrumentation/promptingtools.jl#L60-L66">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Logfire.is_configured-Tuple{}"><a class="docstring-binding" href="#Logfire.is_configured-Tuple{}"><code>Logfire.is_configured</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">is_configured() -&gt; Bool</code></pre><p>Check if Logfire has been configured.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/svilupp/Logfire.jl/blob/96ccea1a394ab8c333b8110858ea93657f1fc488/src/config.jl#L44-L48">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Logfire.messages_to_json-Tuple{Vector{&lt;:InputMessage}}"><a class="docstring-binding" href="#Logfire.messages_to_json-Tuple{Vector{&lt;:InputMessage}}"><code>Logfire.messages_to_json</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">messages_to_json(messages::Vector{InputMessage}) -&gt; String</code></pre><p>Serialize input messages to JSON string for gen_ai.input.messages attribute.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/svilupp/Logfire.jl/blob/96ccea1a394ab8c333b8110858ea93657f1fc488/src/types.jl#L458-L462">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Logfire.messages_to_json-Tuple{Vector{&lt;:OutputMessage}}"><a class="docstring-binding" href="#Logfire.messages_to_json-Tuple{Vector{&lt;:OutputMessage}}"><code>Logfire.messages_to_json</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">messages_to_json(messages::Vector{OutputMessage}) -&gt; String</code></pre><p>Serialize output messages to JSON string for gen_ai.output.messages attribute.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/svilupp/Logfire.jl/blob/96ccea1a394ab8c333b8110858ea93657f1fc488/src/types.jl#L467-L471">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Logfire.part_to_dict-Tuple{TextPart}"><a class="docstring-binding" href="#Logfire.part_to_dict-Tuple{TextPart}"><code>Logfire.part_to_dict</code></a> — <span class="docstring-category">Method</span></summary><section><div><p>Convert any message part to a Dict for JSON serialization.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/svilupp/Logfire.jl/blob/96ccea1a394ab8c333b8110858ea93657f1fc488/src/types.jl#L393-L395">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Logfire.pt_conversation_to_otel-Tuple{AbstractVector}"><a class="docstring-binding" href="#Logfire.pt_conversation_to_otel-Tuple{AbstractVector}"><code>Logfire.pt_conversation_to_otel</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">pt_conversation_to_otel(conv; separate_system=true) -&gt; NamedTuple</code></pre><p>Convert a PromptingTools conversation to OTEL format.</p><p>Returns <code>(; input_messages, output_messages, system_instructions)</code>.</p><p>If <code>separate_system=true</code>, system messages are extracted to <code>system_instructions</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/svilupp/Logfire.jl/blob/96ccea1a394ab8c333b8110858ea93657f1fc488/src/otel_genai.jl#L109-L117">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Logfire.pt_message_to_input-Tuple{Any}"><a class="docstring-binding" href="#Logfire.pt_message_to_input-Tuple{Any}"><code>Logfire.pt_message_to_input</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">pt_message_to_input(msg) -&gt; InputMessage</code></pre><p>Convert a PromptingTools message to an OTEL InputMessage.</p><p>Handles:</p><ul><li>SystemMessage → role=ROLE_SYSTEM</li><li>UserMessage → role=ROLE_USER</li><li>UserMessageWithImages → role=ROLE_USER with BlobPart/UriPart</li><li>AIMessage → role=ROLE_ASSISTANT</li><li>AIToolRequest → role=ROLE_ASSISTANT with ToolCallRequestPart</li><li>ToolMessage → role=ROLE_USER with ToolCallResponsePart</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/svilupp/Logfire.jl/blob/96ccea1a394ab8c333b8110858ea93657f1fc488/src/otel_genai.jl#L14-L26">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Logfire.pt_message_to_output-Tuple{Any}"><a class="docstring-binding" href="#Logfire.pt_message_to_output-Tuple{Any}"><code>Logfire.pt_message_to_output</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">pt_message_to_output(msg; finish_reason=nothing) -&gt; OutputMessage</code></pre><p>Convert a PromptingTools message to an OTEL OutputMessage. Automatically detects finish_reason if not provided.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/svilupp/Logfire.jl/blob/96ccea1a394ab8c333b8110858ea93657f1fc488/src/otel_genai.jl#L91-L96">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Logfire.query_csv-Tuple{LogfireQueryClient, String}"><a class="docstring-binding" href="#Logfire.query_csv-Tuple{LogfireQueryClient, String}"><code>Logfire.query_csv</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">query_csv(client, sql; kwargs...) -&gt; String</code></pre><p>Execute a SQL query and return CSV data as a string.</p><p><strong>Arguments</strong></p><ul><li><code>client::LogfireQueryClient</code>: Query client instance</li><li><code>sql::String</code>: SQL query to execute</li></ul><p><strong>Keywords</strong></p><ul><li><code>min_timestamp::String</code>: ISO-8601 lower bound for filtering</li><li><code>max_timestamp::String</code>: ISO-8601 upper bound for filtering</li><li><code>limit::Int</code>: Maximum rows to return (default: 500, max: 10000)</li></ul><p><strong>Returns</strong></p><ul><li><code>String</code>: CSV-formatted data</li></ul><p><strong>Example</strong></p><pre><code class="language-julia hljs">client = LogfireQueryClient()
csv_data = query_csv(client, &quot;SELECT span_name, duration FROM records LIMIT 100&quot;)
println(csv_data)

# Or write to file
open(&quot;export.csv&quot;, &quot;w&quot;) do f
    write(f, csv_data)
end</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/svilupp/Logfire.jl/blob/96ccea1a394ab8c333b8110858ea93657f1fc488/src/query.jl#L171-L199">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Logfire.query_json-Tuple{LogfireQueryClient, String}"><a class="docstring-binding" href="#Logfire.query_json-Tuple{LogfireQueryClient, String}"><code>Logfire.query_json</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">query_json(client, sql; row_oriented=true, kwargs...) -&gt; Vector{Dict} or Dict</code></pre><p>Execute a SQL query and return JSON data.</p><p><strong>Arguments</strong></p><ul><li><code>client::LogfireQueryClient</code>: Query client instance</li><li><code>sql::String</code>: SQL query to execute</li></ul><p><strong>Keywords</strong></p><ul><li><code>row_oriented::Bool=true</code>: If true, returns <code>Vector{Dict}</code> (each row is a dict). If false, returns <code>Dict{String,Vector}</code> (column-oriented)</li><li><code>min_timestamp::String</code>: ISO-8601 lower bound for filtering (e.g., &quot;2024-01-01T00:00:00Z&quot;)</li><li><code>max_timestamp::String</code>: ISO-8601 upper bound for filtering</li><li><code>limit::Int</code>: Maximum rows to return (default: 500, max: 10000)</li></ul><p><strong>Returns</strong></p><ul><li>Row-oriented (<code>row_oriented=true</code>): <code>Vector{Dict}</code> where each element is a row</li><li>Column-oriented (<code>row_oriented=false</code>): <code>Dict{String,Vector}</code> with column names as keys</li></ul><p><strong>Example</strong></p><pre><code class="language-julia hljs">client = LogfireQueryClient()

# Get recent spans (row-oriented)
rows = query_json(client, &quot;SELECT span_name, duration FROM records LIMIT 10&quot;)
for row in rows
    println(&quot;$(row[&quot;span_name&quot;]): $(row[&quot;duration&quot;])s&quot;)
end

# Get column-oriented data
cols = query_json(client, &quot;SELECT span_name, duration FROM records LIMIT 10&quot;; row_oriented=false)
println(&quot;Span names: &quot;, cols[&quot;span_name&quot;])</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/svilupp/Logfire.jl/blob/96ccea1a394ab8c333b8110858ea93657f1fc488/src/query.jl#L63-L96">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Logfire.record_exception!-Tuple{Any, Any}"><a class="docstring-binding" href="#Logfire.record_exception!-Tuple{Any, Any}"><code>Logfire.record_exception!</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">record_exception!(span, exception; backtrace=nothing, escaped=false)</code></pre><p>Record an exception on a span following OpenTelemetry semantic conventions.</p><p>This function sets the standard OpenTelemetry exception attributes that Logfire recognizes for its specialized exception view:</p><ul><li><code>exception.type</code>: The exception type name</li><li><code>exception.message</code>: The exception message</li><li><code>exception.stacktrace</code>: The full stack trace</li></ul><p>It also sets the span status to error and the log level to &#39;error&#39;.</p><p><strong>Arguments</strong></p><ul><li><code>span</code>: The span to record the exception on</li><li><code>exception</code>: The exception object to record</li><li><code>backtrace</code>: Optional backtrace. If not provided, attempts to use <code>catch_backtrace()</code>  if called within a catch block. Pass the backtrace explicitly for best results.</li><li><code>escaped</code>: Whether the exception message should be escaped (default: false, reserved for future use)</li></ul><p><strong>Example</strong></p><pre><code class="language-julia hljs">try
    error(&quot;Something went wrong&quot;)
catch e
    bt = catch_backtrace()
    record_exception!(span, e; backtrace=bt)
    rethrow()
end</code></pre><p>Or more simply, if called within the catch block:</p><pre><code class="language-julia hljs">try
    error(&quot;Something went wrong&quot;)
catch e
    record_exception!(span, e)  # Will attempt to get backtrace automatically
    rethrow()
end</code></pre><p>This is equivalent to Python&#39;s <code>logfire.exception()</code> or <code>span.record_exception()</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/svilupp/Logfire.jl/blob/96ccea1a394ab8c333b8110858ea93657f1fc488/src/spans.jl#L21-L63">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Logfire.record_token_usage!-Tuple{Any, Int64, Int64}"><a class="docstring-binding" href="#Logfire.record_token_usage!-Tuple{Any, Int64, Int64}"><code>Logfire.record_token_usage!</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">record_token_usage!(span, input_tokens::Int, output_tokens::Int; model::String=&quot;&quot;)</code></pre><p>Record token usage on a span following GenAI semantic conventions.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/svilupp/Logfire.jl/blob/96ccea1a394ab8c333b8110858ea93657f1fc488/src/spans.jl#L235-L239">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Logfire.set_genai_messages!-Tuple{Any, AbstractVector}"><a class="docstring-binding" href="#Logfire.set_genai_messages!-Tuple{Any, AbstractVector}"><code>Logfire.set_genai_messages!</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">set_genai_messages!(span, conv; separate_system=true)</code></pre><p>Set gen<em>ai.input.messages, gen</em>ai.output.messages, and gen<em>ai.system</em>instructions on a span from a PromptingTools conversation.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/svilupp/Logfire.jl/blob/96ccea1a394ab8c333b8110858ea93657f1fc488/src/otel_genai.jl#L205-L210">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Logfire.set_span_attribute!-Tuple{Any, String, Any}"><a class="docstring-binding" href="#Logfire.set_span_attribute!-Tuple{Any, String, Any}"><code>Logfire.set_span_attribute!</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">set_span_attribute!(span, key::String, value)</code></pre><p>Set an attribute on a span.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/svilupp/Logfire.jl/blob/96ccea1a394ab8c333b8110858ea93657f1fc488/src/spans.jl#L3-L7">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Logfire.set_span_status_error!-Tuple{Any, String}"><a class="docstring-binding" href="#Logfire.set_span_status_error!-Tuple{Any, String}"><code>Logfire.set_span_status_error!</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">set_span_status_error!(span, message::String)</code></pre><p>Set span status to error with a message.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/svilupp/Logfire.jl/blob/96ccea1a394ab8c333b8110858ea93657f1fc488/src/spans.jl#L12-L16">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Logfire.set_tool_definitions!-Tuple{Any, AbstractDict}"><a class="docstring-binding" href="#Logfire.set_tool_definitions!-Tuple{Any, AbstractDict}"><code>Logfire.set_tool_definitions!</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">set_tool_definitions!(span, tool_map)</code></pre><p>Set gen_ai.tool.definitions on a span from PromptingTools tool signatures.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/svilupp/Logfire.jl/blob/96ccea1a394ab8c333b8110858ea93657f1fc488/src/otel_genai.jl#L228-L232">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Logfire.set_tool_definitions!-Tuple{Any, Vector}"><a class="docstring-binding" href="#Logfire.set_tool_definitions!-Tuple{Any, Vector}"><code>Logfire.set_tool_definitions!</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">set_tool_definitions!(span, tools::Vector)</code></pre><p>Set gen_ai.tool.definitions on a span from a vector of functions.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/svilupp/Logfire.jl/blob/96ccea1a394ab8c333b8110858ea93657f1fc488/src/otel_genai.jl#L240-L244">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Logfire.should_send_to_logfire"><a class="docstring-binding" href="#Logfire.should_send_to_logfire"><code>Logfire.should_send_to_logfire</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">should_send_to_logfire(cfg::LogfireConfig) -&gt; Bool</code></pre><p>Determine if telemetry should be sent to Logfire based on configuration.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/svilupp/Logfire.jl/blob/96ccea1a394ab8c333b8110858ea93657f1fc488/src/config.jl#L58-L62">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Logfire.shutdown!-Tuple{}"><a class="docstring-binding" href="#Logfire.shutdown!-Tuple{}"><code>Logfire.shutdown!</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">shutdown!()</code></pre><p>Gracefully shutdown the Logfire SDK, flushing any pending telemetry. Note: With SimpleSpanProcessor, spans are exported immediately when they end, so shutdown is mainly for cleanup. For BatchSpanProcessor, this would flush pending spans.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/svilupp/Logfire.jl/blob/96ccea1a394ab8c333b8110858ea93657f1fc488/src/config.jl#L198-L204">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Logfire.system_instructions_to_json-Tuple{Vector{&lt;:AbstractMessagePart}}"><a class="docstring-binding" href="#Logfire.system_instructions_to_json-Tuple{Vector{&lt;:AbstractMessagePart}}"><code>Logfire.system_instructions_to_json</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">system_instructions_to_json(parts::Vector{&lt;:AbstractMessagePart}) -&gt; String</code></pre><p>Serialize system instructions to JSON string for gen<em>ai.system</em>instructions attribute.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/svilupp/Logfire.jl/blob/96ccea1a394ab8c333b8110858ea93657f1fc488/src/types.jl#L476-L480">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Logfire.tool_definitions_from_functions-Tuple{Vector}"><a class="docstring-binding" href="#Logfire.tool_definitions_from_functions-Tuple{Vector}"><code>Logfire.tool_definitions_from_functions</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">tool_definitions_from_functions(tools::Vector) -&gt; Vector{ToolDefinition}</code></pre><p>Create tool definitions from a vector of functions using PT.tool<em>call</em>signature.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/svilupp/Logfire.jl/blob/96ccea1a394ab8c333b8110858ea93657f1fc488/src/otel_genai.jl#L191-L195">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Logfire.tool_definitions_from_pt-Tuple{AbstractDict}"><a class="docstring-binding" href="#Logfire.tool_definitions_from_pt-Tuple{AbstractDict}"><code>Logfire.tool_definitions_from_pt</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">tool_definitions_from_pt(tool_map) -&gt; Vector{ToolDefinition}</code></pre><p>Convert PromptingTools tool signatures to OTEL tool definitions.</p><p><strong>Example</strong></p><pre><code class="language-julia hljs">get_weather(city::String) = &quot;sunny&quot;
tools = [get_weather]
tool_map = PT.tool_call_signature(tools)
defs = tool_definitions_from_pt(tool_map)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/svilupp/Logfire.jl/blob/96ccea1a394ab8c333b8110858ea93657f1fc488/src/otel_genai.jl#L152-L164">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Logfire.tool_definitions_to_json-Tuple{Vector{ToolDefinition}}"><a class="docstring-binding" href="#Logfire.tool_definitions_to_json-Tuple{Vector{ToolDefinition}}"><code>Logfire.tool_definitions_to_json</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">tool_definitions_to_json(tools::Vector{ToolDefinition}) -&gt; String</code></pre><p>Serialize tool definitions to JSON string for gen_ai.tool.definitions attribute.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/svilupp/Logfire.jl/blob/96ccea1a394ab8c333b8110858ea93657f1fc488/src/types.jl#L518-L522">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Logfire.tracer"><a class="docstring-binding" href="#Logfire.tracer"><code>Logfire.tracer</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">tracer(name::String = &quot;logfire&quot;) -&gt; Tracer</code></pre><p>Get a tracer instance for creating spans.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/svilupp/Logfire.jl/blob/96ccea1a394ab8c333b8110858ea93657f1fc488/src/providers.jl#L48-L52">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Logfire.uninstrument_promptingtools!-Tuple{}"><a class="docstring-binding" href="#Logfire.uninstrument_promptingtools!-Tuple{}"><code>Logfire.uninstrument_promptingtools!</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">uninstrument_promptingtools!()</code></pre><p>Best-effort removal. Since PromptingTools does not expose a deregistration hook, this currently logs a warning and leaves registrations intact.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/svilupp/Logfire.jl/blob/96ccea1a394ab8c333b8110858ea93657f1fc488/src/instrumentation/promptingtools.jl#L88-L93">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Logfire.with_llm_span-Tuple{Any, String}"><a class="docstring-binding" href="#Logfire.with_llm_span-Tuple{Any, String}"><code>Logfire.with_llm_span</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">with_llm_span(f, operation::String; system=&quot;openai&quot;, model=&quot;&quot;, kwargs...)</code></pre><p>Create a span for an LLM operation with GenAI semantic convention attributes.</p><p><strong>Arguments</strong></p><ul><li><code>f</code>: Function to execute within the span</li><li><code>operation</code>: The operation name (e.g., &quot;chat&quot;, &quot;embed&quot;, &quot;completion&quot;)</li><li><code>system</code>: The AI system/provider (e.g., &quot;openai&quot;, &quot;anthropic&quot;)</li><li><code>model</code>: The model name/ID</li><li><code>kwargs</code>: Additional attributes to set on the span</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/svilupp/Logfire.jl/blob/96ccea1a394ab8c333b8110858ea93657f1fc488/src/spans.jl#L190-L201">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Logfire.with_span-Tuple{Any, String}"><a class="docstring-binding" href="#Logfire.with_span-Tuple{Any, String}"><code>Logfire.with_span</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">with_span(f, name::String; attrs...)</code></pre><p>Create a span with the given name and execute the function within it. The function <code>f</code> receives the span as an argument.</p><p>If <code>auto_record_exceptions</code> is enabled in configuration (default: true), exceptions thrown within the span will be automatically recorded using OpenTelemetry semantic conventions before being rethrown.</p><p><strong>Example</strong></p><pre><code class="language-julia hljs"># With auto_record_exceptions enabled (default)
Logfire.with_span(&quot;my-operation&quot;) do span
    error(&quot;This will be automatically recorded!&quot;)  # Exception automatically captured
end

# Manual exception handling (still works)
Logfire.with_span(&quot;my-operation&quot;) do span
    try
        risky_operation()
    catch e
        Logfire.record_exception!(span, e)
        # Handle exception...
    end
end</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/svilupp/Logfire.jl/blob/96ccea1a394ab8c333b8110858ea93657f1fc488/src/spans.jl#L119-L146">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Logfire.wrap-Tuple{PromptingTools.AbstractPromptSchema}"><a class="docstring-binding" href="#Logfire.wrap-Tuple{PromptingTools.AbstractPromptSchema}"><code>Logfire.wrap</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">wrap(schema::PT.AbstractPromptSchema) -&gt; LogfireSchema</code></pre><p>Convenience helper to wrap an existing PromptingTools schema.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/svilupp/Logfire.jl/blob/96ccea1a394ab8c333b8110858ea93657f1fc488/src/logfire_schema.jl#L17-L21">source</a></section></details></article></article><nav class="docs-footer"><a class="docs-footer-nextpage" href="query-api/">Query API »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.16.1 on <span class="colophon-date" title="Saturday 29 November 2025 01:38">Saturday 29 November 2025</span>. Using Julia version 1.12.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
